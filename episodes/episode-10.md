# Выпуск №10

Bash на Windows, обновления Safari, правильный фронтенд, нужны ли препроцессоры, ES2016.

[Обсуждайте в Слаке](http://slack.web-standards.ru), в канале #​podcast.

## 00:12 События

## 01:30 Bash на Windows

- [Running Bash on Ubuntu on Windows!](https://channel9.msdn.com/Events/Build/2016/P488)
- [The Ubuntu Userspace for Windows Developers](http://blog.dustinkirkland.com/2016/03/ubuntu-on-windows.html)

## 08:15 Новая тестовая сборка Safari

- [Introducing Safari Technology Preview](https://webkit.org/blog/6017/introducing-safari-technology-preview/)
- [Add WebKit prefixes for Grid Layout](https://github.com/postcss/autoprefixer/issues/633)

## 17:00 Оценка задач фронтендера

- [Перевод](http://frontender.info/estimating-a-front-end-web-dev-job/)

## 31:49 Определение тормозов на лету

- [Performance measurements through requestAnimationFrame](http://www.quirksmode.org/blog/archives/2016/03/rafp_a_proposal.html)

## 36:41 Селекторы для системных элементов

- [Styling native components, a proposal](https://lists.w3.org/Archives/Public/www-style/2016Mar/0310.html)

## 39:25 Нужны ли препроцессоры

- [Why I don’t use CSS preprocessors](http://www.456bereastreet.com/archive/201603/why_i_dont_use_css_preprocessors/)

## 47:11 Что появится в ES2016

- [Список того, что появится в ES2016](http://frontender.info/ecmascript-2016/)

## 52:40 Новости про новости

- [Завели Телеграм](https://telegram.me/webstandards_ru)
- [Убиваем Гугл+](https://plus.google.com/+Web-standardsRu/posts)

---

## 00:12 События

**Вадим.** Привет, с вами 10-й юбилейный выпуск подкаста "Веб-стандарты" и его постоянные ведущие: Алексей Симоненко из HTML Академии, Ольга Алексашенко из Экзанте ...

**Оля.** ... и Вадим Макеев из Оперы.

**Вадим.** У нас опять не очень много событий происходит вокруг, но мы по-прежнему едем на "DUMP" и "Стачку" с Алексеем, где расскажем свои доклады. Я буду рассказывать доклад про гриды, который я презентовал на "CodeFest", так что приходите послушать. "DUMP" - 8 апреля, "Стачка" - 22,23. А вы, Лёша, приедите с Виталием?

**Лёша.** Мы с Виталиком приедем на "DUMP", где он расскажет про баги в браузерах. А на "Стачку" мы поедем с еще одним Лёшей и он там расскажет про регрессионное тестирование на массовых аудиториях. Достаточно интересный доклад про то, как мы большое количество людей автоматически проверяли, как они верстают полностью проект.

**Вадим.** И по скольку мы с Лёшей оба там будем, то скорее всего мы возьмем все свое оборудование и будем записывать подкасты прямо там, благо все там на выходных, как раз к понедельнику будем выкладывать выпуски. Еще непонятно с кем будем записываться. Может с Олегом Моховым на "DUMP", а на "Стачке" Рома Дворнов или еще кого-нибудь вытащим, поговорим. В общем: будут у нас выпуски выездные следующие.


## 01:30 Bash на Windows

**Лёша.** На этой неделе прошла конференция Майкрософт - "Build 2016",  где ребята показали очень интересную штуку, которая позволяет появиться наконец-то bash юниксовуму *(TODO: неразб.)* инструментах внутри нашего любимого Windows. Ну, как нашего любимого, я думаю, что из авторов этого подкаста  никого уже нет, кто пользуется Windows. Да ведь, ребята?

**Оля.** Да!

**Вадим.** Ну да, я давно ушел и не то что бы скучаю, но иногда с интересом поглядываю.

**Лёша.** Вот. А многие до сих пор сидят на Windows и для них то, что показали на этой конференции было таким неким "ВАУ", потому что внутри Windows появится возможность запускать настоящие живый юниксовые команды. Наконец-то мы сможем собирать проекты, использовать крепы, седы 	*(TODO: непон.)* и все остальное. Вот такой вот интересный момент. Они это делали вместе с компанией Canonical, которая разрабатывает Ubuntu и это не совсем виртуализация, не совсем что-то похожее на Sequin *(TODO: непон.)*, которым вы сейчас пользуетесь. Это именно преобразование вызовов Ubuntu в вызовы Windows. Вы пишите обычные команды Ubuntu, а система автоматически понимает, что ей нужно запустить в Microsoft.

**Вадим.** Они это назвали какой-то подсистемой Linux на Windows, в общем какая-то сложность у них там. Главное, что для вас это все будет прозрачно: вы будете делать обычные вещи, которые вы делаете на Юниксе, на ваших там серверах, а потом получать все тоже самое. Я помню момент перехода свой на Мак и было интересное ощущение, что я получил систему, которая работает точно также, как сервера на которых работали проекты компании, собственно в которой я верстал. И у меня было ощущения, что я могу поднять весь целиком проект на компьютере и не просто через какой-нибудь Denver, помните такая штука была? Не поднимать Apache и настраивать MySQL и так далее, а делать простые вещи такими же юниксовыми инструментами, как были доступны на сервере. Кое-что всегда можно было сделать, но полноценно не работало. Сейчас эпоха немного поменялась, но мы  по-прежнему очень сильно зависим от юниксовых утилит, наверное даже больше, чем раньше, потому что сейчас очень много всяких Node-сборщиков, типо Gulp, Grunt или таск-раннеров - они оперируют юниксовыми утилитами, а не просто джаваскриптовыми, соответственно просто запускаются то, что есть в системе. Какой-нибудь Gulp arSync или похожие вещи не берут с собой бинарники, а используют системные, такое бывает тоже. Соответсвенно это сложности большие и в общем-то сама идея Unix, отдельных утилит, npm-скрипты, которые позволяют использовать системые утилиты и легко описать нужные вам таски.
Все это будет доступно для пользователей Windows и Windows перестанет быть платформой на которой приходится работать, потому что нет мака.

**Лёша.** Да, это звучит очень заманчиво. Они еще и с файловой системой поработали, то есть например, когда вы находитесь внутри Bash, внутри вашей консольки вы можете получить доступ ко всем вашим дискам: C, D, E.  Ну если вы работали в Unix и Windows, то вы понимаете, что файловая система у них немного разная. И точно так же наоборот, если вы открываете свой любимый Проводник, или как он там сейчас называется, вы можете в папочке AppData и еще несколько уровней вниз найти ваши привычные юниксовые папочки: ETC, usr, local и все остальное.  Всё это будет жить прямо у вас на копмьютере и работать вместе. И еще момент, очень удобный вам: вы наконец-то сможете выкинуть программку "Путь" с помощью которой еще я когда-то, лет 10 назад, конектился по SSH к серверам, потому что другой возможности не было. И сейчас ее можно просто выкинуть и пользоваться просто Bash, обычно писать SSH и ваш сервер и заходить туда. Конечно, есть еще большое количество проблем: плохо работает Timux *(TODO: непон.)*, еще несколько утилит, которые именно оконными менеджерами занимаются. Но в целом направление, которое взяли Microsoft, оно очень интересное. Мне кажется Windows снова становится интересной платфоромой для разработки.

**Вадим.** Мне еще приятно, что здесь происходит взаимодействие двух принципиально разных сред, то есть Windows, как большого комерческого продукта, как "Корпоративный", "Кровавый Enterprise", вот это все, и все такие хиппи от технологий: Canonical, Ubuntu, Linux и вот это все. Дастин Киркланк подробно рассказывает о внедрении, поскольку он сам этим занимался и довольно интересно, что давние враги, по крайней мере сильные конкуренты, которые обзывали друг друга плохими словами и кидались чем попало сейчас начинают взаимодействовать, чтобы разработчикам было удобнее. Поэтому на это очень приятно смотреть, даже если вы давно работает на маке и это не ваша проблема. 

**Лёша.** Меня только один момент настораживает. Я, конечно, давно на Windows не находился. Меня настораживает то, что там в том числе будут работать такие комманды, как `apt-get`, например, то есть установка пакетов, обычных пакетов, как мы на Ubuntu ставим. Тут вот я не очень понимаю, они же будут комплироваться. Очень много всякой сложной фигни должно прийти в Windows и мне интересно, как это все будет работать, правда ли можно будет поставить вот вообще абсолютно все, правда ли можно будет скомпилировать свой собственный Enginks *(TODO: непон.)* или Apache прямо под Windows, если это так, это по моему очень круто.

**Вадим.** Нет, ну давайте не увлекаться, у нас тут фронтендерский подкаст, а уж что там у себя линуксоиды апт-гетом собирают с помощью мэйка - отдельная история. Главное, что наши самые любимые утилиты, которыми мы каждый день пользуемся, будут доступны.

## 08:15 Новая тестовая сборка Safari

**Вадим.** Другая большая новость на этой неделе о том, что Apple, тоже большая компания, неожиданно обратила внимание на разработчиков. Не то чтобы неожиданно, она делала попытки в последнее время: релиз Safari 9.1, такое ощущение, что он был сделан исключительно для разработчиков, что вообще вновинку для Apple, потому что мы получили очень много фич и на iOS и на macOS. Мы получили всякие там штучки: трехсотмилисекундные задержки для таб, для тача ...

**Лёша.** `picture` же, `picture`

**Вадим.** Да, точно, `picture`, как же вылетело. Так что рады, рады. Надеюсь, они будут чаще делать такие минорные штуки, которые будут приносить новые фичи для веба. Так вот они пошли дальше. У Apple всегда были сборки webkit движка, которые скачивались и работали, используя встроенный системный Safari, как "морду", грубо говоря, как интерфейс браузера, но подменяли движок. И эти сборки были достаточно нестабильны, регулярно разработчики webkit извинялись: "Ой, извините! У нас тут все немножко поломалось: со свежим выходом macOS вы не сможете запускать эту сборку, точнее сможете, но она будет работать с другим движком..." - постоянно были какие-то проблемы. А сейчас они выпустили более стабильную версию [Safari Technology Preview](https://webkit.org/blog/6017/introducing-safari-technology-preview/). То есть видимо договорились с разработчиками macOS и теперь этот браузер будетобновлятся через встроенный AppStore, там будет полноценная синхронизация с iCloud, там будет поддержка расширений нормальная и вообще: все будет хорошо и удобно. Разработчики, кому нравится, кому интересно, смогут использовать Safari на маке, как основной браузер, потому что раньше это было сложновато из-за того, что каждый раз при запуске он открывал *насильно* страницу webkit.org, не работал нормально с какими-то системными фичами. В общем-то: был нестандратным. А поскольку у нас тут тенденция выпускать браузеры специально для разработчиков (Firefox Developer Edition) и другие похожие штуки, то Apple в общем-то встроилась в этот тренд очень хорошо. Из интересного, что уже было в webkit, но стало доступнее широким массам разработчиков, там появилась поддержка `grid-layout` , то есть гридов, но с префиксом `-webkit-`. И сейчас можно посравнивать удобно реализации: реализации Chrome - одна штука, реализация Firefox - другая, а реализация Webkit - немножко третья. На самом деле реализации гридов в Chrome и Webkit занимались примерно одни и те же люди и код во многом реиспользуется, но все равно три независимые реализации. Так вот, чтобы потестить все это мне, как человеку, который делает доклад про `grid-layout`, приходилось писать очень много префиксов руками, а информации про грида не было в caniuse.com , соответственно я пошел в caniuse, отправил заявку, мол добавьте префиксы - они добавили. Потом пошел к Ситнику и сказал, мол запили в автопрефиксер поддержку гридов и в общем-то на выходных было обещано, что все это будет исправлено, максимум на неделе. И мы сможем эскперементировать с гридами нормально и в Safari Technical Preview.

**Лёша.** Знаешь, что интересно? В той статье, которая вышла на webkit.org, где они рассказывали, какие фичи появятся в Safari Technology Preview, не было вообще упоминаний про гриды. Это вот интересно, что вы раскопали и нашли, потому что я не видел ни в одном анонсе публичном про гриды информацию.

**Вадим.** Они то включали, то выключали их именно в webkit, а вот в Safari они теперь точно появились и ,видимо, будет. Поскольку спека не готова, технология не готова, а Apple любители таких полированных вещей, которые прям идеально работают, они не очень любят внедрять неготовые спеки, точнее говорить о них, даже если внедрены. Но интересно, что буквально вчера или позавчера прошел слух, что ребята из Safari и Webkit подумывают о том, чтобы перейти на ту же самую систему с флагами, которая сейчас в большинстве браузеров есть. Суть этой системы в том, что вы не просто внедряете фичу в браузер и прячете ее за префиксами, то есть она все равно работает в браузере, но доступна только через префиксы джаваскриптовые или цссные. А вы внедряете фичу в браузер, выключаете ее, она не работает, не тормозит браузер, если она какая-то принципиальная. Но разработчик может включить ее и попробовать в стабильной версии браузера, но вот под флагом, и не придется городить префиксы, вы сразу сможете писать нормальный код, живой CSS, а не гонять его через автопрефиксер или писать руками, если спека совсем сырая-пресырая и еще никто ее не автопрефиксит. То есть это хорошая новость. Apple опять слушает разработчиков, по крайней мере прошел слух. Посмотрим, будет ли так на самом деле. Мне эта модель нравится больше, потому что я настолько отвык писать префиксы, что я даже не думаю о них и было огромной болью писать их руками для моего доклада. А вы, ребята, когда последний раз префиксы писали?

**Оля.** Эээ... Очень давно. Года два назад, наверное. 

**Лёша.** Я префиксы тоже писал руками очень давно и последний раз, наверное, это было, когда нужно было что-то руками написать для какого-то доклада, что еще не поддерживал автопрефиксер. А так по-моему префиксы перестали писать руками.

**Вадим.** Я еще пишу префискы до сих пор руками, но в ситуациях, когда это какие-то нестандартные свойства Webkit, какой-нибудь `font-size-adjust`, что-нибудь вот такое.

**Оля.** Ну да-да, такое бывает.

**Вадим.** И они прямо сразу выглядят, как хаки, а раньше это просто было нормальной частью нашего кода. Так что давайте еще земной поклон Андрею Ситнику за его афтопрефиксер. *Поклонились*. 

**Лёша.** Я еще хотел чуть-чуть остановиться, потому что, я понимаю, что вы не очень все любите JS, а мне вот он нравится. Мне понравилось то, какую поддержку EcmaScript6 показали в Safari Technology Preview, потому что в текущей версии, которая у нас 9.1, всего лишь 53% поддерживается всех-всех фич, которые у нас есть под этим названием ES6. А вот в этом Technology Preview 98%. То есть почти стопроцентная поддержка всех вот этих новых, вкусных фич прямо в браузере. И насколько я помню, это самый большой процент из всех браузеров, в том числе ночных, то есть, по моему, это очень круто. Я вот любитель браузера Safari, это мой основной браузер, потому что мне нравится , как он работает, что он быстро работает, как он выглядит на маке, мне кажется, что он наиболее естественно выглядит. И я, конечно, все время огорчался, что вот он так плохо поддерживает разработчиков, а тут они вроде начинают обратный путь и это очень круто, меня это радует.

**Вадим.** Ни то что бы тебе как пользователю пригодяться эти 98% фич EcmaScript6.

**Лёша.** Конечно, это же как разработчику. Я же хочу писать все эти `let` , `const` в браузерах, а мне может только Safari там не хватало.

**Вадим.** Ну действительно, так ситуация выглядит с EcmaScript сейчас, что мы используем какие-нибудь сборщики типо Babel для того, чтобы его писать, и даже если какая-то мини фичечка, которая нам нравится, всего одна осталась, то мы все равно будет использовать Babel, чтобы писать. В общем, я не знаю закончится ли этот порочный путь когда-нибудь, может быть когда у нас уменьшится количество фич в браузерах.

**Лёша.** Да нет, конечно изменится. Просто мы же Babel можем тоже ограничивать: перестать использовать транспальнинг *(TODO, непон.)* 'let', 'const', транспайлить только то, что очень плохо поддерживается, а то, что хорошо поддерживается, выкинуть из Babel. Babel последний позволяет это делать.

**Вадим.** Это я понимаю, но этот экстра-шаг в сборке все равно никуда не уйдет, если мы будем продолжать такими же темпами двигаться. Поэтому какая разница?

**Лёша.** Это знаешь, такое внутреннее желание, что все идет, все развивается и рано или поздно мы это випилим. По поводу выпиливания: в этом Safari Technology Preview ведь они наконец сделали програмную возможность работы с буфером обмена, ведь это последний браузер, который оставался и не позволял нам забирать информацию из буфера обмена. То есть все, когда он реализуется, можно будет выкинуть все эти flash-плагины, которые мы ставили на сайты, чтобы работать с буфером обмена. Это тоже такой момент, когда мы выкидываем какой-то старый способ, старый библиотеки. По-моему это хорошо.

