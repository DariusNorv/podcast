# Выпуск №28. 8 августа 2016

Новинки браузеров, триумф EdgeHTML 14, будущее сервис-воркеров, чистый и безопасный SVG, заливка текста и адаптивная вёрстка.

- Ольга Алексашенко
- Вадим Макеев
- Алексей Симоненко

[Слушайте на SoundCloud](https://soundcloud.com/web-standards/episode-28), [обсуждайте в Слаке](https://web-standards.slack.com/messages/podcast/).

## 00:13 События

- [FrontTalks](http://fronttalks.ru/) 17—18 сентября
- [Расписание WSD](https://wsd.events/#calendar)
- [Встречи PiterCSS](https://pitercss.timepad.ru/events/)

## 02:02 Chromium 52 и Opera 39

- [What’s new in Chromium 52 and Opera 39](https://dev.opera.com/blog/opera-39/)
- [CSS-изоляция](http://css-live.ru/articles/css-izolyaciya.html)

## 06:35 Firefox 48

- [Марат Таналин про Firefox 48](http://tanalin.com/blog/2016/08/firefox-48/)
- [WebExtensions API](https://developer.mozilla.org/en-US/Add-ons/WebExtensions/API)

## 09:25 EdgeHTML 14

- [Introducing EdgeHTML 14 with the Windows 10 Anniversary Update](https://blogs.windows.com/msedgedev/2016/08/04/introducing-edgehtml-14/)
- [100% API доступности HTML5 в Edge](http://www.html5accessibility.com/)
- [Edge обошёл Firefox на HTML5 Test](http://html5test.com/results/desktop.html)

## 21:44 Safari TP10

- [Safari Technology Preview Release 10](https://webkit.org/blog/6823/release-notes-for-safari-technology-preview-release-10/)

## 22:55 Будущее сервис-воркеров

- [Service worker meeting notes](https://jakearchibald.com/2016/service-worker-meeting-notes/)
- [The state of Web Components](https://hacks.mozilla.org/2015/06/the-state-of-web-components/)

## 27:44 Чистый SVG

- [High Performance SVGs](https://css-tricks.com/high-performance-svgs/)

## 37:31 Безопасный SVG

- [SVG uploads in WordPress (the Inconvenient Truth)](https://bjornjohansen.no/svg-in-wordpress)
- [Safe SVG](https://wordpress.org/plugins/safe-svg/)

## 40:24 CSS-демки

- [Индикатор прокрутки на CSS](http://codepen.io/MadeByMike/pen/ZOrEmr?editors=0100) и [как сделано](https://twitter.com/MikeRiethmuller/status/760935509996756994)

## 44:49 Заливка текста

- [Firefox: `background-clip: text`](https://twitter.com/simevidas/status/731354943626481666)
- [CSS Fill and Stroke](https://drafts.fxtf.org/paint/)
- [Позвольте представить: SVG](https://wsd.events/2014/06/28/pres/meet-svg/), [Оживляем текст](https://wsd.events/2015/06/20/pres/text-alive/) и [статьи Юли Бухваловой](http://css.yoksel.ru/tags/#svg)

## 48:37 Адаптивная вёрстка

- [Яндекс: делать ли мобильную версию?](https://habrahabr.ru/company/yandex/blog/307064/)
- [Комментарий разработчика](https://habrahabr.ru/company/yandex/blog/307064/#comment_9733376)
- [CSS Device Adaptation: `@viewport`](https://drafts.csswg.org/css-device-adapt/#atviewport-rule), поддержка [на Can I use](http://caniuse.com/#feat=css-deviceadaptation)

---

## 00:13 События

TODO

## 02:02 Chromium 52 и Opera 39

TODO

## 06:35 Firefox 48

TODO

## 09:25 EdgeHTML 14

TODO

## 21:44 Safari TP10

TODO

## 22:55 Будущее сервис-воркеров

TODO

## 27:44 Чистый SVG

**Вадим.** На этой неделе была пара интересных статей про SVG. Первая от Сары Дрэснер. Она [в блоге CSS-Tricks опубликовала](https://css-tricks.com/high-performance-svgs/ "High Performance SVGs") способ, или даже не способ, а вообще подход к тому как нужно работать с SVG, чтобы они были быстрыми. Грубо говоря — кривые должны быть чистыми, чтобы там не было мусора. Потому что то что мы оптимизируем с помощью SVGO какого-нибудь, мы пытаемся работать с существующей информацией. Мы можем каким-то образом комбинировать кривые, мы можем вычищать всякие лишние теги, которые никакого не оказывают влияния на рендеринг финальный. Но почистить кривые автоматически — сложновато. Их нужно рисовать чистыми.

**Лёша.** Я, кстати, хочу рассказать немножко проблему с дизайнерами и с SVG. Мы пока рисовали новый сайт, нам ребята нарисовали много-много эсвэгэшек, ну прямо совсем много. И главная проблема оказалась такого характера которая ну как-то вроде даже не вылезает на первый план. Дело в том, что многие дизайнеры, ну вот когда рисуют такую ручную рисовку, это не когда мы мышкой возим, делаем прямоугольнички, и так далее, а когда пытаемся именно рисовать рукой. Они же берут перо и планшет, на котором они возят. Проблема в том, что когда вы рисуете в векторе, каждый ваш штрих он ставит точки, очень много точек. И вот вы вроде рукой так хорошо, красиво водите, вам кажется что линия прямая, а на ней будет там сотня точек. Вы этого даже не заметите. И вот в этом главная проблема, когда вы рисуете иконки. Мы с этим столкнулись. Мы научили наших дизайнеров с этим справляться. Ну то есть во-первых, чтобы они обращали внимание на это, что очень важен итоговый размер, что это не просто картинка, а нужно посмотреть в код, всё ли там оптимально. Да или вообще просто включить все вот эти невидимые элементы и посмотреть, это вообще нормально там или нет.

Но более того, когда вы рисуете например прямую или кусочек окружности да или окружность пером, дизайнер всё-таки пером рисует, из-за того, что у него может рука чуть-чуть шелохнуться, он не может например чистую прямую нарисовать, или чистую окружность нарисовать. Точнее она будет выглядеть, будет казаться чистой, но это будет тот же самый `path`, а не какой-нибудь `circle` или какой-нибудь `poligon`, и так далее. И дизайнер этого даже не увидит. А это совсем не оптимальная форма этого объекта для SVG. Если нас слушают дизайнеры, которые рисуют SVG, я бы очень советовал смотреть, что получается в итоге, особенно если вы рисуете пером.

Ну вот здесь, на CSS-Tricks я увидел ещё один интересный *(TODO: неразборчиов)* {поинт}. Ну, я как понимаю, это Illustrator всё-таки. Есть такой инструмент как Reduce Path Point. То есть можно упростить формы, которые вы нарисовали. Это по идее тоже вам позволит уменьшить количество точек. Но даже с этим инструментом я бы всё равно смотрел глазами, потому что иначе получается очень неоптимальный SVG, и это потом боль всем верстальщикам.

**Вадим.** Кстати, если говорить про `path`, `circle` и так далее, я тут где-то прочитал, что на самом деле все эти `circle`, `line` и прочие все остальные — это просто псевдонимы к `path`. То есть `path`, вот этот вот элемент эсвэгэшный, он на самом деле может представить любую фигуру, но для того, чтобы нам было проще кодить руками, можно использовать дополнительные псевдонимы в виде `circle`, `rectangle` и так далее.

**Лёша.** Ну это понятно, да. Но просто в `path` могут быть лишние точки, которых ты не увидишь. А в том же самом `circle`, там абсолютно конкретно, ты задаёшь только радиус и ширину. и всё.

**Вадим.** На самом деле, разница между теми, кто возюкает кисточкой и теми, кто рисует кривые исключительно в квалификации на мой взгляд. Просто есть фотошоперы, которые рисовали кисточкой, корректировали фотографии с помощью растровой кисточки, и они не особо понимают, как рисовать вектор. Нормальный чистый вектор люди рисуют не кисточкой, и даже дело не в пере. Тем же самым пером можно рисовать вполне себе по точкам. То есть кликать и рисовать кривые Безье. Речь пожалуй в квалификации. Поэтому если ваш дизайнер умеет рисовать в векторе хорошо, а не просто рисует векторные фигуры растровыми способами, значит вам повезло. Если нет — научите. Покажите вашим дизайнерам статью Сары Дрэснер, и научите их оптимизировать ваш SVG. Один из интересных способов, про которые рассказала Сара — это убирать фон. Потому что вы когда рисуете вы фигуры периодически складываете, разбиваете на части и у вас получаются лишние элементы которые можно заменить, не знаю, одной фоновой картинкой.

Никто не предлагает дизайнерам делать идеальный код в итоге, потому что задача дизайнеров рисовать, ну или проектировать, смотря какой ты дизайнер, но базовые приёмы чистоты, если раньше мы говорили в фотошопе про то что там слои именовать нужно, то и в иллюстраторе в общем-то можно слои именовать и айдишники расставлять элементам, особенно если потом анимировать. И вот теперь ещё одна история связанная с тем, что кривые должны быть чистыми. Я думаю очень полезный урок дизайнерам и даже верстальщикам потому что иногда кривые нарисованы и остаётся только верстальщику оптимизировать.

**Лёша.** Ну да, это точно должен знать верстальщик тоже. Но я знаешь ещё один момент вспомнил. Понимаешь, не то что дизайнер неграмотный. Просто появляется много разных технологий и не то чтобы весь этот веб он прямо так очень нужен всем дизайнерам мы конечно все говорим о том что дизайнер обязательно должен уметь понимать, как это всё работать будет. Но не все же такие. И понятно, надо образовывать дизайнеров в том числе. И с SVG какая проблема, у нас ведь был растр, где в принципе сколько ты движений кистью ни сделашь, оно всё слепится в одну картину сколько ты слоёв друг на друга ни наложешь они все слепятся в один. А с вектором какая проблема, ты например рисуешь что-то, нарисовал круг, залил его фоном, потом сверху нарисовал ещё что-то потом ещё сверху нарисовал что-то, потом перекрыл кусок каким-нибудь квадратом и так далее. И у тебя получается картина где ты мог бы на самом деле нарисовать там линию там какую-то заливку какой-то квадрат, но не делать всех операций, которые накладываются друг на друга и проблема вектора в том, что он ведь хранит все эти слои, то есть первый слой, потом то, что ты наложил сверху, потом то, что ты наложил сверху, и это совсем не про то, как твоя картина выглядит в итоге, это все твои махинации они все будут лежать в этом SVG-файле и в этом тоже проблема. Потому что у нас были проблемы, что у дизайнера были какие-то вещи, которые заходили за артборд. Это просто типичная ситуация, вот как ты берёшь бумажку и карандаш и начинаешь там чирикать, потом чирикать сверху и так далее. Вот пером ровно так же они работают. Это не плохой способ работать, это хороший способ работать. Но потом обязательно должен быть этап когда ты это всё оптимизируешь.

**Вадим.** Оля, а у вас дизайнеры образованные в этом смысле?

**Оля.** Ну как сказать. Наши дизайнеры нам как правило SVG не отдают. То есть, есть что-то в PSD какие-то элементы, которые являются векторными объектами и их можно экспортнуть при помощи самого фотошопа. Но к сожалению экспорт фотошопа он какой-то чудовищный. То есть, каждый раз когда я пыталась это сделать, я на выходе получала SVG не с `path`, а когда внутри объект, а в нём в `base64` вставлен код картинки. Это абсолютно не юзабельно.

**Лёша.** Так по-моему это не проблема экспорта фотошопа, это проблема того, как дизайнер это сделал.

**Оля.** Ну может быть, но выглядит это как вставленный в PSD векторный объект. Не знаю кто в этом виноват. Я в таких случаях, просто, чтобы не удлинять цикл разработки, я не трогаю дизайнера. Я иду на какой-нибудь сайт, где дают иконки и скачиваю похожую иконку, убеждаюсь что она нарисована нормально, что она покрасится нормально и чищу её с помощью SVGO и вставляю в свой спрайт. И какбы вот так вот мы и живём.

**Лёша.** Знаешь, у нас просто дизайнер, ну вот в самом-самом-самом начале была тоже проблема что у него появлялись SVG-объекты, внутри которых был зафигачен `base64` растровое изображение. И мы этот этап тоже прошли. Я бы на твоём месте не брал бы это всё на себя, а просто показал бы этому дизайнеру, что в итоге получается, окей, не в рамках текущего проекта, а просто где-то в фоне, параллельно, за кружкой пива, где угодно. Просто показать что получается что он делает совсем не то. Он ведь делает не так как ты ожидаешь не потому что он хочет так делать, он просто не знает об этом, он не знает о том результате, который он делает. Покажи ему его и он поправит. Потому что сейчас нам дизайнер присылает векторные элементы и они отличные. Мы не тратим время на работу с этими элементами больше.

**Оля.** Ну, ты прав. Я просто думала … я грешила на фотошоп. Потому что если каждый раз так в макетах от разных дизайнеров — мне как-то не пришло в голову что может быть это они делают что-то не так.

**Вадим.** Ну а я в таких ситуациях просто открываю этот векторный объект в иллюстраторе, можно как-то пробросить в иллюстратор всё это, ну если это вставленый объект можно по нему даблкликнуть и он откроется в иллюстраторе а в принципе можно скопировать кривую в иллюстратор и оттуда получить иконку. Ну да, лучше конечно наладить процесс.

## 37:31 Безопасный SVG

TODO

## 40:24 CSS-демки

TODO

## 44:49 Заливка текста

TODO

## 48:37 Адаптивная вёрстка

TODO
